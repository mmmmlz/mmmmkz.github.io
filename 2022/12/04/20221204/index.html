<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>A Survey of Multi-Domain model | kerwin's notebook</title><meta name="author" content="mmmmlz"><meta name="copyright" content="mmmmlz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="在实际的业务中，数据往往由多个 domain 组成，以广告为例，往往会存在多个转化目标，在 ctr、cvr 的预估时也要考虑不同转化目标的影响，因为在不同转化目标下，ctr、cvr 的分布(如均值、方差)往往是不一致的。 解决这个问题最直观的思路是加 domain 相关特征或根据 domain 拆模型，前者属于隐式的方法，需要特征的区分性足够强、能被模型学到，但这个足够强没有一个量化的标">
<meta property="og:type" content="article">
<meta property="og:title" content="A Survey of Multi-Domain model">
<meta property="og:url" content="http://kerwinblog.top/2022/12/04/20221204/index.html">
<meta property="og:site_name" content="kerwin&#39;s notebook">
<meta property="og:description" content="在实际的业务中，数据往往由多个 domain 组成，以广告为例，往往会存在多个转化目标，在 ctr、cvr 的预估时也要考虑不同转化目标的影响，因为在不同转化目标下，ctr、cvr 的分布(如均值、方差)往往是不一致的。 解决这个问题最直观的思路是加 domain 相关特征或根据 domain 拆模型，前者属于隐式的方法，需要特征的区分性足够强、能被模型学到，但这个足够强没有一个量化的标">
<meta property="og:locale">
<meta property="og:image" content="http://kerwinblog.top/img/11.png">
<meta property="article:published_time" content="2022-12-04T02:32:02.000Z">
<meta property="article:modified_time" content="2023-05-06T14:03:36.338Z">
<meta property="article:author" content="mmmmlz">
<meta property="article:tag" content="Rec System">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://kerwinblog.top/img/11.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://kerwinblog.top/2022/12/04/20221204/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'A Survey of Multi-Domain model',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-05-06 22:03:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/backgound.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="kerwin's notebook" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/11.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> Article</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/7.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="kerwin's notebook"><span class="site-name">kerwin's notebook</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> Article</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">A Survey of Multi-Domain model</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-12-04T02:32:02.000Z" title="Created 2022-12-04 10:32:02">2022-12-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-05-06T14:03:36.338Z" title="Updated 2023-05-06 22:03:36">2023-05-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Notes/">Notes</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">2.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>7min</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>在实际的业务中，数据往往由多个 domain
组成，以广告为例，往往会存在多个转化目标，在 ctr、cvr
的预估时也要考虑不同转化目标的影响，因为在不同转化目标下，ctr、cvr
的分布(如均值、方差)往往是不一致的。</p>
<p>解决这个问题最直观的思路是加 domain 相关特征或根据 domain
拆模型，前者属于隐式的方法，需要特征的区分性足够强、能被模型学到，但这个足够强没有一个量化的标准，基本只能看实验效果；后者则存在维护成本过高的问题，比如说有
n 个 domain 就要拆成 n 个模型。</p>
<p>本文着重讲如何通过一个模型 serve 多个 domain
的方法，主要是在业界验证有收益且公开发表的工作，基本上可以分为 3
类：<span id="more"></span></p>
<ol type="1">
<li>multi-head 结构</li>
<li>LHUC 机制</li>
<li>GRL 机制</li>
</ol>
<h1 id="mmoe">MMOE</h1>
<p>在一个模型中根据多个 domain 拆成多个 head（每个 head 代表一个
domain），通过每个 head 的参数学习特定 domain
的分布，是一种比较直观和常见的做法。这类方法的代表是 MMOE: <a target="_blank" rel="noopener" href="https://dl.acm.org/doi/pdf/10.1145/3219819.3220007">Modeling Task
Relationships in Multi-task Learning with Multi-gate
Mixture-of-Experts</a></p>
<p>下图直观展示了拆 head 的集中常见做法。</p>
<p><img src="/2022/12/04/20221204/image-20230422222324608.png" alt="image-20230422222324608" style="zoom: 50%;"></p>
<p>MMOE 中的两个 M，第一个代表 multi-gate，第二个代表
multi-expert；multi-expert 比较好理解，从 ensemble 的角度来看，就是在做
bagging，而 gate 就是在控制每个 expert 的 weight，multi-gate 则是为每个
expert 分配一个 gate，本质上就是做到 domain-wise 的优化</p>
<p>而 gate 的具体实现，也是一个 mlp, 最终通过 softmax 得到每个 expert 的
weight，对于第 <span class="math inline">\(k\)</span>个
task，计算过程如下图所示。</p>
<p><img src="/2022/12/04/20221204/MultiDomainMMOE_GATE.jpg" alt="mmoe gate 结构" style="zoom:50%;"></p>
<h1 id="star">STAR</h1>
<p>这是阿里的一篇 paper，应用场景就是比较典型的 CTR 业务，<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2101.11427.pdf">One Model to Serve All: Star
Topology Adaptive Recommender for Multi-Domain CTR Prediction</a></p>
<p>在模型结构上，也是为每个 domain
分配一部分自己的参数，从而达到在一个模型中 serve 多个 domain
的目的，这一点跟 MMOE 原理上是一样的，文章是这么说的。</p>
<blockquote>
<p>Essentially, the network of each domain consists of two factorized
networks: one centered network shared by all domains and the
domain-specific network tailored for each domain</p>
</blockquote>
<p>STAR 基本结构如下图(b)所示，直观来看，有一个公共的 head，同时为每个
domain 分配了一个 head，最终每个 head 的参数是公共 head 参数与 domain
head 参数的 element-wise 结果。</p>
<p><img src="/2022/12/04/20221204/MultiDomainSTAR.jpg" alt="mmoe star 结构" style="zoom:33%;"></p>
<h2 id="partitioned-normalizationpn">Partitioned Normalization(PN)</h2>
<p>在上面的结构中，有一个 Partitioned Normalization (PN)
的部分，目标是解决统一 batch normalization 在这 multi-domain
中不适用的问题</p>
<p>常规的 batch normalization 会计算 batch 内所有的样本的 mean 和
variance，然后做归一化，如下图所示；这里有个<strong>假设就是这批样本是独立同分布(i.i.d.)</strong>的，但
multi-domain 本身的要解决的问题就是不同 domain
的分布不一样，因此不能直接用原始的 batch normalization；关于 BN
为何有效，可参考这篇文章：<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2105.07576.pdf">Rethinking “Batch” in
BatchNorm</a></p>
<p><img src="/2022/12/04/20221204/MultiDomainSTAR_BN.jpg" alt="batch normalization" style="zoom:33%;"></p>
<p>而 PN 的做法是为原始 BN 中的参数 <span class="math inline">\(γ\)</span> 和 <span class="math inline">\(β\)</span> 生成额外的 domain-specify
参数，如下图所示</p>
<p><img src="/2022/12/04/20221204/MultiDomainSTAR_PN.jpg" alt="partitioned normalization" style="zoom:33%;"></p>
<h2 id="auxiliary-network">Auxiliary Network</h2>
<p>这是个小网络，输入是domain indicator(表示这个样本来自哪个
domain)，输出是一个预估值，最终输出的预估值会与上面的 STAR
的模型加和做最终预估; 作用等价于为每个 domain 增加了一个 bias 项</p>
<p><img src="/2022/12/04/20221204/MultiDomainSTAR_AT.jpg" alt="Auxiliary Network" style="zoom:33%;"></p>
<p>实验结果这里不展开，paper 效果显示比一些已有的 multi-domain
任务要好（参数量是否打平没提到）；也对 PN 的效果做了消融，结果显示 PN
的效果比直接用 BN 要好。</p>
<h1 id="lhuc">LHUC</h1>
<p>前面的两篇文章基本思路都是为不同的 domain 分配多一个 head
的参数，然后通过不同 head 来描述不同 domain 的差异</p>
<p>提出 LHUC 这篇文章则没有显式地分 head ，而是通过在 hidden layer
上乘上一个 domain-aware embedding，来达到这样的效果：<a target="_blank" rel="noopener" href="https://arxiv.org/abs/1601.02828">Learning Hidden Unit
Contributions for Unsupervised Acoustic Model Adaptation</a></p>
<p>这篇 paper 最早是在 speech 领域提出的一个方法，基本的思路是为每个
speaker 单独调整 nn 中全连接层里部分的参数，从而达到每个 speaker
的个性化预估；总体思路比较直观，也很容易把方法迁移至推荐上</p>
<p>快手的提出的 PEPNet(<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2302.01115.pdf">Parameter and Embedding
Personalized Network for Infusing with Personalized Prior
Information</a>) 也是借鉴了 LHUC 的这个思想</p>
<p>整个模型结构如下图所示，LHUC 部分是最右边的 PPNet 部分，每个 GateNU
相当于为每个 hidden layer 生成一个 domain-aware 的 embedding，左边的
EPNet 则是相当于为 embedding 不用分生成类似的 embedding。</p>
<p><img src="/2022/12/04/20221204/MultiDomainLHUC_PEPNet.jpg" alt="PEPNet 结构" style="zoom:33%;"></p>
<p>Gate NU 可以理解为一个简单两层的 nn
网络，输入是<strong>依靠先验知识挑选的能够区分不同 domain
的特征</strong>，输出则是一个 tensor（维度大小与 hidden layer 一样。</p>
<p><img src="/2022/12/04/20221204/MultiDomainLHUC_GateNU1.jpg" alt="Gate NU" style="zoom: 50%;"></p>
<p>除了结构上的改进，这篇 paper
还做了较多的工程上的有优化，这里不详细展开。</p>
<h1 id="grl">GRL</h1>
<p>这里主要想介绍 GRL（Gradient Reversal
Layer）这个机制，这个机制出自论文 <a target="_blank" rel="noopener" href="https://arxiv.org/pdf/1409.7495.pdf">Unsupervised Domain
Adaptation by Backpropagation</a></p>
<p>论文主要想解决的问题是 domain adaption，即在 source domain
有较多数据，target domain 较少数据，怎么能够较好地同时解决两个 domain
的问题，paper 里提到的方案是从特征层面去解决这个问题</p>
<blockquote>
<p>the approach promotes the emergence of “deep” features that are (i)
discriminative for the main learning task on the source domain and (ii)
invariant with respect to the shift between the domains.</p>
</blockquote>
<p>为了达到这个目标，论文提出的 GRL 机制如下图所示。</p>
<p><img src="/2022/12/04/20221204/MultiDomainGRL.jpg" alt="GRL 机制" style="zoom:33%;"></p>
<p>从结构上来看，这也是个 multi-head 的结构，但蓝色的 head 是 source
domain 的原始 task，<strong>红色的 head（后面简称为 discriminator）
则是一个 domain classifier，即是用来区分样本是属于哪一个 domain
的</strong></p>
<p>两个 task 在做 bp 时，蓝色的 head 正常回传梯度，discriminator
则在梯度回传到 feature extractor 即图中色绿色部分时，乘上一个 negative
constant，这就是 GRL 的机制</p>
<p>那为什么要这么做呢？paper 给出的解释是这样的。</p>
<blockquote>
<p>we want to make the features domain-invariant. That is, <strong>we
want to make the distributions $S(f)={G_f(x;θf)|x∼S(x)} <span class="math inline">\(and\)</span> T(f)={G_f(x;θf)|x∼T(x)}$ to be
similar</strong>. Under the covariate shift assumption, this would make
the label prediction accuracy on the target domain to b_e the same as on
the source domain (Shimodaira, 2000).</p>
</blockquote>
<p>即希望 feature extractor 抽取出来的特征是 domain-invariant、对 domain
不敏感的，或者说<strong>基于抽取出来的特征，discriminator
不能很好地区分样本来自哪个 domain</strong></p>
<p>而如果不加 GRL，正常的 bp 是会 discriminator 能够区分样本来自哪个
domain 的，加了 GRL 后，则能够达到上面提到的“discriminator
不能很好地区分样本来自哪个 domain”</p>
<p>那另一个问题来了，即为什么要在 feature extractor 这一层做，而不是在
<span class="math inline">\(L_d\)</span> 上就加一个负号？</p>
<p>因为<strong>如果直接在 <span class="math inline">\(L_d\)</span>
上加负号，相当于让 discriminator 把它分到错误的那个 domain，但一个好的
feature 应该是让 discriminator 分辨不出它来自哪个
domain，而不是把它分到错误的那个 domain</strong></p>
<p>因此，GRL 机制某种程度上也是一类 feature
engineering，用于提取出适用于多个 domain 的 feature。</p>
<h2 id="小结">小结</h2>
<p>综上，本文主要介绍了三种解决 multi-domain 的思路，分别是 multi-head
结构，LHUC 机制和 GRL
机制；据笔者的了解，目前这几种方案在业界都有落地的案例，值得在相应业务中进行尝试~</p>
<p>multi-head 机制比较直观，为每个 domain 分配一个 head，分别学习不同
domain 的分布，MMOE 和 STAR 这一类模型属于这种；LHUC
机制则是根据先验选择一批有区分度的特征，通过一个小的 nn
学习一个隐变量作用到hidden-layer上（其实也能作用到 embedding 上，PEPNet
中没有介绍的 EPNet 就是这部分，原理基本一致）；GRL
则是通过训练方式使得模型抽取出来的 feature 是 domain-invariant
的，训练的思想跟 GAN 的对抗训练比较类似</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="http://kerwinblog.top">mmmmlz</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://kerwinblog.top/2022/12/04/20221204/">http://kerwinblog.top/2022/12/04/20221204/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Rec-System/">Rec System</a></div><div class="post_share"><div class="social-share" data-image="/img/11.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/01/14/0112/" title="Dynamic Knapsack Optimization Towards Efficient Multi-Channel Sequential Advertising"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Dynamic Knapsack Optimization Towards Efficient Multi-Channel Sequential Advertising</div></div></a></div><div class="next-post pull-right"><a href="/2022/12/03/paper20221203/" title="Learning Representations for Counterfactual Inference"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Learning Representations for Counterfactual Inference</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/05/03/0503/" title="Let’s think step by step"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-03</div><div class="title">Let’s think step by step</div></div></a></div><div><a href="/2023/03/19/0319/" title="Position bias"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-19</div><div class="title">Position bias</div></div></a></div><div><a href="/2023/03/03/%E6%B7%B7%E6%8E%92%E6%8E%A2%E7%B4%A2/" title="混排到底该怎么排？"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-03</div><div class="title">混排到底该怎么排？</div></div></a></div><div><a href="/2023/02/24/0224/" title="猜你想去？"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-24</div><div class="title">猜你想去？</div></div></a></div><div><a href="/2023/01/14/0112/" title="Dynamic Knapsack Optimization Towards Efficient Multi-Channel Sequential Advertising"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-14</div><div class="title">Dynamic Knapsack Optimization Towards Efficient Multi-Channel Sequential Advertising</div></div></a></div><div><a href="/2022/05/27/0527/" title="再看AUC"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-27</div><div class="title">再看AUC</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/11.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">mmmmlz</div><div class="author-info__description">great ideas in CV&RS</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/mmmmlz"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Focus on the latest developments in recommendation algorithms, advertising algorithms, large models, etc.</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#mmoe"><span class="toc-number">1.</span> <span class="toc-text">MMOE</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#star"><span class="toc-number">2.</span> <span class="toc-text">STAR</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#partitioned-normalizationpn"><span class="toc-number">2.1.</span> <span class="toc-text">Partitioned Normalization(PN)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#auxiliary-network"><span class="toc-number">2.2.</span> <span class="toc-text">Auxiliary Network</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#lhuc"><span class="toc-number">3.</span> <span class="toc-text">LHUC</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#grl"><span class="toc-number">4.</span> <span class="toc-text">GRL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">4.1.</span> <span class="toc-text">小结</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/05/10/0508/" title="Segment Anything">Segment Anything</a><time datetime="2023-05-10T11:01:41.000Z" title="Created 2023-05-10 19:01:41">2023-05-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/05/04/rl-01/" title="强化学习笔记1————马尔科夫链与Q值和V值">强化学习笔记1————马尔科夫链与Q值和V值</a><time datetime="2023-05-04T13:34:21.000Z" title="Created 2023-05-04 21:34:21">2023-05-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/05/03/0503/" title="Let’s think step by step">Let’s think step by step</a><time datetime="2023-05-02T19:11:02.000Z" title="Created 2023-05-03 03:11:02">2023-05-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/04/28/0402/" title="Token Merging Your ViT But Faster">Token Merging Your ViT But Faster</a><time datetime="2023-04-27T19:11:02.000Z" title="Created 2023-04-28 03:11:02">2023-04-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/04/15/BidOptimization/" title="《Bid Optimization by Multivariable Control in Display Advertising》阅读笔记">《Bid Optimization by Multivariable Control in Display Advertising》阅读笔记</a><time datetime="2023-04-15T12:49:00.000Z" title="Created 2023-04-15 20:49:00">2023-04-15</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/7.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By mmmmlz</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script></div></body></html>